#!/usr/bin/env bash
# configuration
#   env.ARCH
#   env.BRANCH
#   env.MODULE
#   env.PROJECT
#   env.REPOSITORY

set -e

import com.encodeering.docker.lang
import com.encodeering.docker.config

finalname () {
    local repository="${REPOSITORY}"
    local name="`dashcase "${PROJECT}" "${ARCH}"`";
    local version="`dashcase ${VERSION} "${BRANCH##master}"`"

    echo "${repository}/${name}:${version}"
}

DOCKER_IMAGE="`finalname`"
